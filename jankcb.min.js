(function(n,o){n.jankCb=o(n)})(window,function(n){"use strict";var o,i,e,s,a,r,t,c={},l=!!n.requestAnimationFrame&&!!n.cancelAnimationFrame,g={minFps:48,maxMisses:3,showLog:!0,callback:function(){}},u=0,m=0,f=function(n,o){var i={};for(var e in n)i[e]=n[e];for(var e in o)i[e]=o[e];return i},d=function(n){if(0==u&&(t=n),u+=1,t<n-1e3){if(a=n-t,r=u/(a/1e3),o.showLog&&console.log("FPS:",r),r<o.minFps&&(m+=1,o.debug&&console.log("Miss: ",m),m>=o.maxMisses))return o.showLog&&console.log("Triggering Callback"),o.callback(),void c.destroy();u=0}s=i(d)};return c.destroy=function(){o&&(o.showLog&&console.log("Ending JankCB"),e(s),o=null)},c.init=function(a){l&&(c.destroy(),i=n.requestAnimationFrame,e=n.cancelAnimationFrame,o=f(g,a||{}),o.showLog&&console.log("Starting JankCB..."),s=i(d))},c});